version: '2'
services:
    ceph-hosts:
        image: gdwornicki/ceph-hosts:jewel
        volumes:
        - $VOLUME:/opt/ceph
        environment:
        - TIME_STEEP=${TIME_STEEP}
        - CEPH_PREFIX=${CEPH_PREFIX}
        - JOURNAL_SIZE=${JOURNAL_SIZE}
        - POOL_DEFAULT_SIZE=${POOL_DEFAULT_SIZE}
        - POOL_DEFAULT_MIN_SIZE=${POOL_DEFAULT_MIN_SIZE}
        - POOL_DEFAULT_PG_NUM=${POOL_DEFAULT_PG_NUM}
        - POOL_DEFAULT_PGP_NUM=${POOL_DEFAULT_PGP_NUM}
        labels:
            io.rancher.container.pull_image: always
            io.rancher.container.hostname_override: container_name
volumes:
    cephvol:
        driver: nfs-driver
        external: 
            name: $VOLUME
